/*~  _____                           _  */
/*~ |  __ \                         | | */
/*~ | |  \/ ___ _ __   ___ _ __ __ _| | */
/*~ | | __ / _ \ '_ \ / _ \ '__/ _` | | */
/*~ | |_\ \  __/ | | |  __/ | | (_| | | */
/*~  \____/\___|_| |_|\___|_|  \__,_|_| */
body{
    background-color: #000;
    color: #0f0;
    padding: 0;
    margin: 0;
    overflow: hidden;
    font-family: 'Times New Roman', Times, serif;
    font-size: large;
}
::selection{
    background-color: #F90;
    color: #000;
}
dialog::backdrop{background-color: #0007;}
dialog[open]{
    background-color: #444;
    color: #0F0;
    border-radius: 1rem;
    display: grid;
    gap: .7rem;
    place-items: safe center;
    place-content: safe center;
    overflow: auto;
    scrollbar-gutter: stable both-edges;
}
dialog h2{margin: 0;}
fieldset{
    background-color: #222;
    border-color: #222;
    border-radius: .5rem;
    margin: 0;
    padding: .6rem;
}
fieldset>legend{cursor: help;}
input[type=range]:not(:disabled):hover,
input[type=button]:not(:disabled):hover,
input[type=text]:not(:read-only):hover,
input[type=number]:not(:read-only):hover{outline: 4px ridge #0A0;}
input[type=button]:not(:disabled),
input[type=range]:not(:disabled),
input[type=checkbox],
details>summary{cursor: pointer;}
details>summary{
    color: #0A0;
    font-style: italic;
}
input:disabled,
input:read-only,
textarea:read-only{cursor: default;}
input[type=text],
input[type=number],
textarea{
    background-color: #111;
    color: inherit;
    border: 2px inset #333;
    border-radius: 4px;
}
textarea{
    min-width: 5rem;
    min-height: 1.25rem;
    max-height: 3.25rem;
    height: 1.25rem;
    overflow: auto;
    scrollbar-gutter: stable;
}
input[type=button]{
    background-color: #333;
    color: #0F0;
    border-radius: .25rem;
}
input[type=color]{
    background-color: transparent;
    border: none;
    vertical-align: middle;
    outline: 0 ridge #0A0;
    outline-offset: -.1rem;
    border-radius: .5rem;
}
input[type=color]:hover{outline-width: 2px;}
input[type=color]:focus{
    outline-width: 2px;
    outline-color: #080;
}
input[type=color]:active{outline-color: #0F0;}
input[type=range][list]{color: inherit;}
label{white-space: nowrap;}
table{border-collapse: collapse;}
table tr:nth-child(even){background-color: #0003;}
table th,
table td{
    text-align: start;
    padding: .2rem .4rem;
}
input[type=range]{
    vertical-align: middle;
    width: 15rem;
    height: 1.375rem;
}
input[type=range]:disabled::-webkit-slider-thumb{display: none;}
input[data-toggle="1"]{background-color: #222;}
/*~ ______     _        _ _          _  */
/*~ |  _  \   | |      (_) |        | | */
/*~ | | | |___| |_ __ _ _| | ___  __| | */
/*~ | | | / _ \ __/ _` | | |/ _ \/ _` | */
/*~ | |/ /  __/ || (_| | | |  __/ (_| | */
/*~ |___/ \___|\__\__,_|_|_|\___|\__,_| */
:root{
    --offset-view-left: 0px;
    --offset-view-top: 0px;
    --canvas-width: 0px;
    --canvas-scaler: 1.0;
}
div#infoPanels,
fieldset#totalSize,
fieldset#frameSize,
fieldset#framePosition,
fieldset#frameTextField>details>fieldset,
div#appExtList{
    display: flex;
    flex-direction: column;
    gap: .25rem;
    place-items: safe center;
    place-content: safe center;
}
div#globalColorTable,
div#frameColorTable{
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 0.25rem 1.5rem;
    place-items: safe center;
    align-content: safe center;
    justify-content: flex-start;
}
div#globalColorTable,
div#commentsList,
div#frameColorTable,
div#appExtList{
    max-height: 8rem;
    overflow: auto;
    scrollbar-gutter: stable both-edges;
}
div#box{
    position: absolute;
    top: 50%;left: 50%;
    transform:translate(-50%, -50%)perspective(0);
    width: max-content;
    height: max-content;
    padding: 0 .5rem 1rem .5rem;
    max-width: calc(100vw - calc(1rem + 4px));
    max-height: calc(100vh - calc(1rem + 4px));
    overflow: auto;
    scrollbar-gutter: stable both-edges;
    background-color:#222;
    border-radius: 1rem;
    text-align: center;
    box-shadow: 5px 5px 30px -5px #080;
    border: 2px outset #444;
    display: grid;
    gap: .5rem;
    place-items: safe center;
    place-content: safe center;
}
div#box>h1{
    grid-area: 1/1/2/3;
    margin-block-end: 0;
}
div#gifView{
    grid-area: 2/1/3/2;
    width: 30rem;
    height: 30rem;
}
div#frameView{
    width: 25rem;
    height: 25rem;
}
div#gifView,
div#frameView{
    background-color: #000;
    padding: .5rem;
    border-radius: .5rem;
    box-sizing: border-box;
    overflow: hidden;
    user-select: none;
    /*~ make this element a containing block for the absolute positioning of the view buttons below */
    /*// transform: translateZ(0); */
    position: relative;
    /*~ a trick to get less smoothing when not having a pixel perfect position/size (avoid subpixel aliasing) */
    perspective: 0;
}
div#gifView.full,
div#frameView.full{
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
}
div#gifView.full~div#box,
div#frameView.full~div#box{visibility: hidden;}
div#gifViewButtons,
div#frameViewButtons{
    z-index: 10;
    position: absolute;
    top: .5rem;
    right: .5rem;
    display: flex;
    gap: .25rem;
    flex-direction: column;
    place-items: safe center;
    place-content: safe center;
}
div#gifViewButtons>input,
div#frameViewButtons>input{
    box-sizing: content-box;
    padding: 0;
    width: 1.5rem;
    height: 1.5rem;
    font-family: 'consolas', 'Courier New', Courier, monospace;
    font-size: 1rem;
}
canvas#htmlCanvas,
canvas#htmlFrameCanvas{
    object-fit: contain;
    width: calc(100% - .5rem);
    height: calc(100% - .5rem);
    margin: auto;
    transform: translate(-50%, -50%);
    position: absolute;
    top: 50%;
    left: 50%;
    image-rendering: auto;
}
canvas#htmlCanvas.pixel,
canvas#htmlFrameCanvas.pixel{image-rendering: pixelated;}
canvas#htmlCanvas.real,
canvas#htmlFrameCanvas.real{
    object-fit: unset;
    height: auto;
    cursor: grab;
    /*~ sets the position (updated via JS) */
    margin-left: var(--offset-view-left);
    margin-top: var(--offset-view-top);
    /*~ updated in JS when zooming in/out */
    width: calc(var(--canvas-width) * var(--canvas-scaler));
}
div#gifView:has(canvas#htmlCanvas.real),
div#frameView:has(canvas#htmlFrameCanvas.real){cursor: grab;}
html.grabbing,
html.grabbing *{cursor: grabbing !important;}
label[for=timeRange]{grid-area: 3/1/4/2;}
label[for=frameRange]{grid-area: 4/1/5/2;}
input#frameRange{width: 19rem;}
div#playerControls{
    grid-area: 5/1/6/2;
    display: flex;
    gap: .2rem;
    flex-direction: row;
    flex-wrap: nowrap;
    place-items: stretch;
    place-content: safe center;
}
div#playerControls>input{
    width: 2.5rem;
    height: 2rem;
    padding-bottom: 2rem;
    font-size: 1.2rem;
    font-family: "consolas", monospace;
}
div#playerControls>input:disabled{
    background-color: #222;
    border-style: solid;
    color: #0A0;
    cursor: not-allowed;
}
div#playerControls>input#seekPrevious,
div#playerControls>input#seekNext{font-size: 1.53rem;}
fieldset#userInputField{
    grid-area: 6/1/7/2;
    display: grid;
    gap: .25rem;
    align-items: safe center;
    justify-items: stretch;
    place-content: safe center;
}
fieldset#userInputField.waiting{border: 4px groove #00F;}
label[for=userInputTimeout]{grid-area: 1/1/2/3;}
input#userInputTimeout::-webkit-slider-thumb{display: none;}
input#userInput{grid-area: 2/1/3/2;}
input#userInputLock{grid-area: 2/2/3/3;}
input#userInput,
input#userInputLock{font-size: medium;}
div#infoPanels{
    grid-area: 2/2/8/3;
    background-color: #111;
    border: 2px groove #777;
    border-radius: .5rem;
    padding: .5rem;
    gap: .5rem;
    width: 28rem;
    height: 42.8rem;
    overflow: auto;
    scrollbar-gutter: stable both-edges;
}
div#infoPanels>fieldset{min-width: 90%;}
div#gifInfoArea,
div#frameInfoArea,
div#frameTextArea{
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    gap: 0.5rem;
    align-items: stretch;
    place-content: safe center;
}
div#gifInfoArea>table,
div#frameInfoArea>table,
div#frameTextArea>table,
div#appExtList>fieldset{
    box-sizing: border-box;
    width: 100%;
}
div#globalColorTable>span,
div#frameColorTable>span,
div#commentsList>span,
div#appExtList>span{
    font-size: large;
    font-weight: bold;
    font-style: italic;
    color: #0A0;
}
div#commentsList{
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 0.25rem;
    align-items: safe center;
    justify-items: stretch;
    place-content: safe center;
}
div#commentsList>label{display: contents;}
div#commentsList>label>textarea{resize: vertical;}
/*~  _____                _ _ _                 */
/*~ /  ___|              | | | |                */
/*~ \ `--.  ___ _ __ ___ | | | |__   __ _ _ __  */
/*~  `--. \/ __| '__/ _ \| | | '_ \ / _` | '__| */
/*~ /\__/ / (__| | | (_) | | | |_) | (_| | |    */
/*~ \____/ \___|_|  \___/|_|_|_.__/ \__,_|_|    */
::-webkit-scrollbar{width:.8rem;height:.8rem;}
::-webkit-scrollbar-thumb:vertical:window-inactive{border-right-style:dashed;}
::-webkit-scrollbar-thumb:horizontal:window-inactive{border-bottom-style:dashed;}
::-webkit-scrollbar-thumb:vertical{
    background-color:#0000;
    border-right:.2rem solid #0A0F;
    border-radius:0;
}
::-webkit-scrollbar-thumb:hover:vertical,
:hover::-webkit-scrollbar-thumb:vertical{
    background-color:#000F;
    box-shadow:inset .4rem 0 .4rem 0 #0A0F;
    border:none;
    border-top-left-radius:1rem;
    border-bottom-left-radius:1rem;
}
::-webkit-scrollbar-thumb:horizontal{
    background-color:#0000;
    border-bottom:.2rem solid #0A0F;
    border-radius:0;
}
::-webkit-scrollbar-thumb:hover:horizontal,
:hover::-webkit-scrollbar-thumb:horizontal{
    background-color:#000F;
    box-shadow:inset 0 .4rem .4rem 0 #0A0F;
    border:none;
    border-top-left-radius:1rem;
    border-top-right-radius:1rem;
}
::-webkit-scrollbar-thumb:hover:vertical,
:hover::-webkit-scrollbar-thumb:hover:vertical{box-shadow:inset .4rem 0 .4rem 0 #0F0F;}
::-webkit-scrollbar-thumb:hover:horizontal,
:hover::-webkit-scrollbar-thumb:hover:horizontal{box-shadow:inset 0 .4rem .4rem 0 #0F0F;}
::-webkit-scrollbar-track,
::-webkit-scrollbar-track-piece,
::-webkit-scrollbar-corner{display:none;background-color:#0000;}
